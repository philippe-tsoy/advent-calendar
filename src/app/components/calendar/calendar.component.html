<div class="calendar-container">
  <audio #backgroundMusic loop>
    <source src="assets/music/background-music.mp3" type="audio/mpeg">
    <source src="assets/music/background-music.ogg" type="audio/ogg">
    Your browser does not support the audio element.
  </audio>
  <div class="background-image"></div>
  <div class="calendar-content">
    <div class="calendar-header">
      <h1 class="gradient-text">Advent Calendar 2025</h1>
      <!-- <button class="reset-button" (click)="resetOpenedDays()" type="button">
        <span class="reset-icon">ðŸ”„</span>
        <span class="reset-text">Reset</span>
      </button> -->
    </div>
    <div class="windows-grid">
      @for (dayData of calendarDays(); track dayData.day) {
        <app-window
          [day]="dayData.day"
          [display]="dayData.display"
          [isUnlocked]="isUnlocked(dayData.day)"
          [isOpened]="isOpened(dayData.day)"
          [imageUrl]="getImageUrl(dayData)"
          (open)="onWindowOpen(dayData.day, $event)"
        />
      }
    </div>
  </div>
  @if (selectedDay(); as day) {
    <app-popup
      [visible]="popupVisible()"
      [message]="day.message"
      [imagePath]="getImageUrl(day)"
      [originX]="popupOriginX()"
      [originY]="popupOriginY()"
      [doorColor]="popupDoorColor()"
      (close)="onPopupClose()"
    />
  }
  <app-day32-animation
    [visible]="day32AnimationVisible()"
    (close)="onDay32AnimationClose()"
  />
</div>

